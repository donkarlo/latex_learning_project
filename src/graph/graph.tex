\documentclass{standalone}
\usepackage{tikz}
\usetikzlibrary{graphs,graphdrawing,fit,positioning}
\usegdlibrary{layered,force,circular} % algorithms (graphdrawing)

% --- Unicode Persian-friendly font (LuaLaTeX) ---
\usepackage{fontspec}
\setmainfont{Amiri}

\begin{document}
    \begin{tikzpicture}[
        nodes={draw, circle, inner sep=2pt},
        groupbox/.style={draw, rounded corners, fill=blue!5, inner sep=6pt}
    ]
        
        % Group A with layered layout (top-to-bottom)
        \begin{scope}[name prefix=A-]
            \graph [layered layout] {
                a1 -> { a2, a3 };
                a2 -> a4;
            };
        \end{scope}
        \node[groupbox, label=above:{Group A}]
        (GA) [fit=(A-a1)(A-a2)(A-a3)(A-a4)] {};
        
        % Group B with circular placement (graphs lib; robust)
        \begin{scope}[xshift=7cm, name prefix=B-]
            \graph [circular placement] {
                b1 -- b2 -- b3 -- b4 -- b1;
            };
        \end{scope}
        \node[groupbox, label=above:{Group B}]
        (GB) [fit=(B-b1)(B-b2)(B-b3)(B-b4)] {};
        
        % Inter-group edges
        \draw[->] (A-a3) -- (B-b2);
        \draw[->] (B-b4) .. controls +(0,-1) and +(0,-1) .. (A-a1);
    
    \end{tikzpicture}
\end{document}
